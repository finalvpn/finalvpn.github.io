(this.webpackJsonpfinalapp=this.webpackJsonpfinalapp||[]).push([[0],{715:function(e,t,a){e.exports=a(954)},720:function(e,t,a){},847:function(e,t){},849:function(e,t){},860:function(e,t){},862:function(e,t){},889:function(e,t){},891:function(e,t){},892:function(e,t){},897:function(e,t){},899:function(e,t){},905:function(e,t){},907:function(e,t){},926:function(e,t){},938:function(e,t){},941:function(e,t){},948:function(e,t,a){},954:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(21),i=a.n(r),s=(a(720),a(11)),l=a(12),c=a(144),u=a(20),d=a(19),p=a(691),h=a(690),m=a(992),f=a(1024),g=o.a.createContext(null),y=a(1003),v=a(1002),b=a(1017),w=a(1007),E=a(124),k=a(1006),C=a(1001),x=a(998),S=a(1031),O=a(105),T=a(1025),j=(a(445),a(98)),M=a.n(j),A=function(){function e(){Object(s.a)(this,e)}return Object(l.a)(e,[{key:"isOnMobile",value:function(){var e=!1;return(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(navigator.userAgent.substr(0,4)))&&(e=!0),e}},{key:"isOnAndroid",value:function(){return navigator.userAgent.toLowerCase().indexOf("android")>-1}},{key:"isNative",value:function(){return!(!window.Capacitor||!window.Capacitor.platform)}},{key:"helloWorld",value:function(){var e=M()([6.1,4.2,6.3],Math.floor);console.log(e),console.log("Hello World... (^_^)/ !!")}},{key:"hash",value:function(e){var t,a=0;for(t=0;t<e.length;t++)a=(a<<5)-a+e.charCodeAt(t),a|=0;return a}},{key:"padnumber",value:function(e,t){var a="          "+e;return a.substr(a.length-t)}},{key:"validateEmail",value:function(e){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}},{key:"formatPrice",value:function(e){return(e*=1)>=0?"\xa3"+e.toFixed(2):""}},{key:"sortByKey",value:function(e,t){return e.sort((function(e,a){var n=e[t],o=a[t];return n<o?-1:n>o?1:0}))}},{key:"findByKeyValue",value:function(e,t,a){for(var n=0;n<e.length;n++)if(e[n][t]===a)return e[n]}},{key:"getStackTrace",value:function(){var e={};return Error.captureStackTrace(e,this.getStackTrace),e.stack}},{key:"formatDate",value:function(e,t,a){var n=["\0","January","February","March","April","May","June","July","August","September","October","November","December"],o=["\x01","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],r=["\x02","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],i=["\x03","Sun","Mon","Tue","Wed","Thu","Fri","Sat"];function s(e,t){var a=e+"";for(t=t||2;a.length<t;)a="0"+a;return a}var l=a?e.getUTCFullYear():e.getFullYear();t=(t=(t=t.replace(/(^|[^\\])yyyy+/g,"$1"+l)).replace(/(^|[^\\])yy/g,"$1"+l.toString().substr(2,2))).replace(/(^|[^\\])y/g,"$1"+l);var c=(a?e.getUTCMonth():e.getMonth())+1;t=(t=(t=(t=t.replace(/(^|[^\\])MMMM+/g,"$1"+n[0])).replace(/(^|[^\\])MMM/g,"$1"+o[0])).replace(/(^|[^\\])MM/g,"$1"+s(c))).replace(/(^|[^\\])M/g,"$1"+c);var u=a?e.getUTCDate():e.getDate();t=(t=(t=(t=t.replace(/(^|[^\\])dddd+/g,"$1"+r[0])).replace(/(^|[^\\])ddd/g,"$1"+i[0])).replace(/(^|[^\\])dd/g,"$1"+s(u))).replace(/(^|[^\\])d/g,"$1"+u);var d=a?e.getUTCHours():e.getHours(),p=d>12?d-12:0==d?12:d;t=(t=(t=(t=t.replace(/(^|[^\\])HH+/g,"$1"+s(d))).replace(/(^|[^\\])H/g,"$1"+d)).replace(/(^|[^\\])hh+/g,"$1"+s(p))).replace(/(^|[^\\])h/g,"$1"+p);var h=a?e.getUTCMinutes():e.getMinutes();t=(t=t.replace(/(^|[^\\])mm+/g,"$1"+s(h))).replace(/(^|[^\\])m/g,"$1"+h);var m=a?e.getUTCSeconds():e.getSeconds();t=(t=t.replace(/(^|[^\\])ss+/g,"$1"+s(m))).replace(/(^|[^\\])s/g,"$1"+m);var f=a?e.getUTCMilliseconds():e.getMilliseconds();t=t.replace(/(^|[^\\])fff+/g,"$1"+s(f,3)),f=Math.round(f/10),t=t.replace(/(^|[^\\])ff/g,"$1"+s(f)),f=Math.round(f/10);var g=d<12?"AM":"PM";t=(t=(t=t.replace(/(^|[^\\])f/g,"$1"+f)).replace(/(^|[^\\])TT+/g,"$1"+g)).replace(/(^|[^\\])T/g,"$1"+g.charAt(0));var y=g.toLowerCase();t=(t=t.replace(/(^|[^\\])tt+/g,"$1"+y)).replace(/(^|[^\\])t/g,"$1"+y.charAt(0));var v=-e.getTimezoneOffset(),b=a||!v?"Z":v>0?"+":"-";if(!a){var w=(v=Math.abs(v))%60;b+=s(Math.floor(v/60))+":"+s(w)}t=t.replace(/(^|[^\\])K/g,"$1"+b);var E=(a?e.getUTCDay():e.getDay())+1;return t=(t=(t=(t=(t=t.replace(new RegExp(r[0],"g"),r[E])).replace(new RegExp(i[0],"g"),i[E])).replace(new RegExp(n[0],"g"),n[c])).replace(new RegExp(o[0],"g"),o[c])).replace(/\\(.)/g,"$1")}}],[{key:"str",value:function(e){return e?e+"":""}}]),e}();A.instance=A.instance||new A;var N=a(681),F=a.n(N),D=function(){function e(){Object(s.a)(this,e),this.sitekey="",this.site={state:"",registration_pp_plan_id:"",registration_pp_client_id:""},this.auth={},this.siteSubject=new T.a,this.authSubject=new T.a,this.fatalErrorSubject=new T.a,this.toastSubject=new T.a,this.messageBoxSubject=new T.a,this.waitingSubject=new T.a,this.baseApiUrl="https://app.myfinalappspace.online/app/v1/",this.resp1=null,"contains"in String.prototype||(String.prototype.contains=function(e,t){return-1!==String.prototype.indexOf.call(this,e,t)})}return Object(l.a)(e,[{key:"getQueryVariable",value:function(e){var t=window.location.search.substring(1);console.log(t);var a=t.split("&");console.log(a);for(var n=0;n<a.length;n++){var o=a[n].split("=");if(console.log(o),o[0]==e)return o[1]}return""}},{key:"callApi",value:function(e,t){var a=this,n=new URLSearchParams;null==t&&(t={}),t._t=Date.now()+"";var o=JSON.stringify(t).replace(/"/g,""),r=F.a.createHash("md5").update(o).digest("hex");for(var i in t._h=r,t)n.append(i,t[i]);return fetch(this.baseApiUrl+e,{method:"post",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/x-www-form-urlencoded"},body:n}).then((function(e){return e.text()})).then((function(e){return a.resp1=e,JSON.parse(e)}))}},{key:"init",value:function(){var e=this;window.onerror=function(t,a,n,o,r){return e.sendEventLog({data:JSON.stringify({message:{message:t,file:a,line:n,col:o,error:r.message,stack:A.instance.getStackTrace()}}),event:"pageerror"}),!1}}},{key:"catchErrorInApi",value:function(t){var a=t+"",n=this.resp1;a.contains("SSL error")&&(a=A.instance.formatDate(new Date,"yyyy/MM/dd hh:mm:ss Z")+" **THE DATE & TIME ON YOUR PC MAY BE INVALID. UPDATE IT PLEASE** "+a),setTimeout((function(){e.instance.sendEventLog({data:JSON.stringify({err:a,resp:n,stack:t.stack}),event:"apierror"})}),2e3),this.showToast(a,"error","bottom")}},{key:"completeOrder",value:function(e,t){var a=this,n=e;this.callApi("/plisio",n).then((function(e){e.url&&(window.location.href=e.url)})).catch((function(e){return a.catchErrorInApi(e)}))}},{key:"showToast",value:function(e,t,a){this.showWaiting(!1,""),this.toastSubject.next({msg:e,type:t,position:a})}},{key:"showMessageBox",value:function(e,t,a){this.showWaiting(!1,""),this.messageBoxSubject.next({msg:e,title:t,type:a})}},{key:"showWaiting",value:function(e,t){this.waitingSubject.next({msg:t,show:e})}},{key:"sendEventLog",value:function(e){var t={};for(var a in navigator)t[a]=navigator[a];e._nav=JSON.stringify(t),this.callApi("/eventlog",e).then((function(e){console.log(e)})).catch((function(e){}))}},{key:"addPaypalScript",value:function(){var t=document.createElement("script");t.src="https://www.paypal.com/sdk/js?client-id="+e.instance.site.registration_pp_client_id+"&vault=true&intent=subscription",t.async=!0,t.onerror=function(){var t={stacktrace:A.instance.getStackTrace()};setTimeout((function(){e.instance.sendEventLog({data:JSON.stringify(t),event:"ppjsloaderror"})}),5e3)},document.body.appendChild(t)}}]),e}();D.instance=D.instance||new D;var P=function(){function e(){Object(s.a)(this,e),this.cart=[],this.deliveryMethod="Delivery",this.paymentMethod="Online",this.totalCartValue=0,this.subtotal=0,this.totalCartFoodCount=0,this.deliveryCharge=0,this.discount=0,this.deliveryAddress={person:"",address1:"",address2:"",postcode:"",city:"",phone:"",addressnote:""},this.simpleProps=["cart","deliveryMethod","paymentMethod","totalCartValue","subtotal","totalCartFoodCount","deliveryCharge","discount","deliveryAddress"],this.cartSubject=new T.a,this.showDialogSubject=new T.a}return Object(l.a)(e,[{key:"clearCart",value:function(){this.cart=[],this.deliveryMethod="Delivery",this.paymentMethod="Online",this.totalCartValue=0,this.subtotal=0,this.totalCartFoodCount=0,this.deliveryCharge=0,this.discount=0,this.deliveryAddress={person:"",address1:"",address2:"",postcode:"",city:"",phone:"",addressnote:""}}},{key:"copyProps",value:function(e,t){for(var a in this.simpleProps)t[this.simpleProps[a]]=e[this.simpleProps[a]]}},{key:"saveToStorage",value:function(){if(this.totalCartFoodCount){var e={};e._t=+new Date,this.copyProps(this,e),localStorage.setItem("cart",JSON.stringify(e))}}},{key:"loadFromStorage",value:function(){var e=localStorage.getItem("cart");if(e){try{e=JSON.parse(e)}catch(t){return localStorage.removeItem("cart"),void(e=null)}+new Date-e._t<9e5?(this.copyProps(e,this),this.cartSubject.next("")):localStorage.removeItem("cart")}}},{key:"addToCart",value:function(e){if(1===e.prices.length){var t=JSON.parse(JSON.stringify(e));t.total=100*t.prices[0].price/100,this.addToCartObject(t)}}},{key:"findToppingPrice",value:function(e,t,a){var n=D.instance.foodinfo.foodtcategory.filter((function(t){return t.foodid===e.foodid})).map((function(e){return e.tcategoryid}));0===n.length&&n.push(-1);var o=e.selectedSize;o||(o=null);var r=null===o?null:o.id,i=a.filter((function(e){return(null===e.tcategoryid||n.includes(e.tcategoryid))&&(null===e.toppingid||e.toppingid===t.toppingid)&&(null===e.sizeid||e.sizeid===r)}));return i.sort().reverse(),i.length>0?[1*i[0].price,t.count]:[0,t.count]}},{key:"changeDeliveryMethod",value:function(e){this.deliveryMethod=e,this.updateTotal()}},{key:"changePaymentMethod",value:function(e){this.paymentMethod=e,this.updateTotal()}},{key:"removeFromCart",value:function(e){var t=this.cart.indexOf(e);t>-1&&(this.cart[t].count>1?this.cart[t].count--:this.cart.splice(t,1),this.updateTotal())}},{key:"findPriceByOptions",value:function(e,t,a,n){var o=this;console.log("FTC: "+n);var r=null;if(t||(t=null),a||(a=null),!e||!e.prices)return null;if(!a&&t&&(r=e.prices.find((function(e){return e.modelid===t.id&&"0"===e.sizeid}))),a&&!t&&(r=e.prices.find((function(e){return e.sizeid===a.id&&"0"===e.modelid}))),t&&a&&(r=e.prices.find((function(e){return e.sizeid===a.id&&e.modelid===t.id}))),1===e.prices.length&&(r=e.prices[0]),!e.prices||0===e.prices.length)return D.instance.showMessageBox("Error adding food to basket","Error",""),9999;e.toppings&&e.toppings.forEach((function(e){"count"in e||(e.count=1*e.checked)}));var i=e.toppings?e.toppings.filter((function(e){return 1*e.checked===1&&0===e.count})).map((function(e){return"-".concat(e.abbr)})):[],s=e.toppings?e.toppings.filter((function(e){return e.count-1*e.checked>0})).map((function(e){return"+".concat(e.count-1*e.checked===1?"":e.count-1*e.checked).concat(e.abbr)})):[],l=i.concat(s);e.toppingsabbr=l.join(" "),e.lesstoppings=(e.toppings?e.toppings.filter((function(e){return 1*e.checked===1&&0===e.count})).map((function(e){return"".concat(e.toppingid)})):[]).join(","),e.extratoppings=(e.toppings?e.toppings.filter((function(e){return e.count-1*e.checked>0})).map((function(e){return"".concat(e.toppingid)})):[]).join(",");var c=e.toppings&&e.toppings.filter((function(e){return 1*e.checked>0})),u=e.toppings&&e.toppings.filter((function(e){return e.count>0})),d=[],p=[];c&&c.forEach((function(t){var a=o.findToppingPrice(e,t,D.instance.foodinfo.toppingprice);if(a){var n=a[0];d.push(n)}})),u&&u.forEach((function(t){var a=o.findToppingPrice(e,t,D.instance.foodinfo.toppingprice);if(a)for(var n=a[0],r=a[1],i=0;i<r;i++)p.push(n)})),p.sort();var h=n-(c?c.length:0),m=p.slice(h,p.length),f=d.reduce((function(e,t){return e+t}),0),g=m.reduce((function(e,t){return e+t}),0),y=g-f>0?g-f:0;return r?Math.round(100*(1*r.price+y))/100:void 0}},{key:"computeFoodHash",value:function(e){var t=JSON.parse(JSON.stringify(e));return delete t.count,delete t.prices,delete t.toppings,e.details&&e.details.map((function(e){delete e.selectedFood.prices,delete e.selectedFood.toppings})),A.instance.hash(JSON.stringify(t))}},{key:"addOfferToCart",value:function(e){e.count||(e.count=1);var t=0;e.details.map((function(e){e.selectedFood&&e.selectedFood.extraOfferPrice&&(t+=e.selectedFood.extraOfferPrice),delete e.selectedFood.prices,delete e.selectedFood.toppings})),e.total=Math.round(100*(1*e.price+t))/100,this.addToCartObject(e)}},{key:"addToCartWithOptions",value:function(e){var t=e,a=t.totalWithOptionPrice+(t.extraOfferPrice?t.extraOfferPrice:0);return void 0!==a&&(t.total=Math.round(100*a)/100,this.addToCartObject(t),!0)}},{key:"addToCartObject",value:function(e){"count"in e||(e.count=1),delete e.prices,delete e.toppings,e.hash=this.computeFoodHash(e);var t=this.cart.find((function(t){return t.hash===e.hash})),a=this.cart;t?t.count+=e.count:(a=[].concat(Object(O.a)(this.cart),[e]),this.cart=a),this.updateTotal()}},{key:"deliveryChargeCalc",value:function(e,t,a){if("Pickup"===a)return 0;if(!t||""===t||!e)return 0;if(!isNaN(t))return 1*t;for(var n=0,o=(e=e.replace(" ","")).length-1;o>=0;o--)isNaN(e.charAt(o))||(n=o);for(var r=e.substring(0,e.length-n-1).toLowerCase(),i=t.toLowerCase().replace(" ","").split(";"),s=-1,l=0;l<i.length;l++)if(-1!==i[l].indexOf(":")){var c=i[l].split(":");if(""!==c[1]&&c[0].split(",").indexOf(r)>-1){s=1*c[1];break}}return s}},{key:"setDeliveryAddress",value:function(e){this.deliveryAddress.person=e.person,this.deliveryAddress.address=e.address,this.deliveryAddress.postcode=e.postcode,this.deliveryAddress.city=e.city,this.deliveryAddress.phone=e.phone}},{key:"updateTotal",value:function(){this.subtotal=Math.round(100*this.cart.reduce((function(e,t){return 1*e+t.total*t.count}),0))/100,this.totalCartFoodCount=this.cart.reduce((function(e,t){return 1*e+t.count}),0);var e=Math.round(100*this.cart.filter((function(e){return"details"in e})).reduce((function(e,t){return 1*e+t.total*t.count}),0))/100;this.deliveryCharge=Math.round(100*this.getDeliveryCharge(this.deliveryMethod))/100,this.discount=0,isNaN(D.instance.site.online_discount)||(this.discount=1*(Math.floor((this.subtotal-e)*D.instance.site.online_discount)/100).toFixed(2)),this.totalCartValue=this.subtotal-this.discount+Math.max(0,this.deliveryCharge),this.totalCartValue=Math.round(100*this.totalCartValue)/100,this.cartSubject.next("changed")}},{key:"getDeliveryCharge",value:function(e){var t=0,a=this.deliveryAddress&&this.deliveryAddress.postcode&&""!==this.deliveryAddress.postcode?this.deliveryAddress.postcode:D.instance.auth&&D.instance.auth.postcode&&""!==D.instance.auth.postcode?D.instance.auth.postcode:"";return"Delivery"===e&&""!==a&&(t=this.deliveryChargeCalc(a,D.instance.site.delivery_charge,e)),t}},{key:"checkBeforeCheckoutProceed",value:function(){if(e.instance.totalCartValue<1*D.instance.site.minorder)return D.instance.showToast("Minimum order is "+A.instance.formatPrice(D.instance.site.minorder),"error","bottom"),!1;if("open"!==D.instance.site.shopStatus&&!D.instance.isTestOrder())return D.instance.showToast("Sorry! We are closed now.","error","bottom"),!1;var t=0;return e.instance.cart.forEach((function(e){e.selectedSize&&e.selectedSize.abr&&e.selectedSize.abr.indexOf("1/4")>-1&&(t+=e.count),e.details&&e.details.forEach((function(a){if(a.selectedFood){var n=a.selectedFood;n.selectedSize&&n.selectedSize.abr&&n.selectedSize.abr.indexOf("1/4")>-1&&(t+=e.count)}}))})),t%2!==1||(D.instance.showToast("You must choose another Half meter pizza!","error","bottom"),!1)}}]),e}();P.instance=P.instance||new P;var z=a(1032),B=a(1030),$=(Object(m.a)((function(e){return{toolbar:{flexGrow:1,color:"white"},root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}})),Object(h.a)({palette:{error:{main:"#ff604f"}}}),function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={show:!1,toastMsg:"",toastType:"",toastTopBottom:""},D.instance.toastSubject.subscribe((function(e){if(e.msg){if(n.state.show)return void n.setState({show:!1},(function(){D.instance.toastSubject.next(e)}));n.setState({show:!0,toastMsg:e.msg,toastType:e.type,toastTopBottom:e.position})}})),n}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return o.a.createElement(o.a.Fragment,null,this.state.show&&o.a.createElement(z.a,{open:!0,autoHideDuration:6e3,anchorOrigin:{vertical:this.state.toastTopBottom,horizontal:"center"},onClose:function(){e.setState({show:!1})}},o.a.createElement(B.a,{onClose:function(){e.setState({show:!1})},severity:this.state.toastType?this.state.toastType:"success"},this.state.toastMsg)))}}]),a}(o.a.Component)),I=(a(948),a(997)),W=a(999),_=a(28),J=a.n(_),R=a(1e3),L=(Object(m.a)((function(e){return{toolbar:{flexGrow:1,color:"white"},root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}})),function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={totalCartValue:0,totalCartFoodCount:0},P.instance.cartSubject.subscribe((function(){console.log("totalcartvalue: "+P.instance.totalCartValue),n.setState({totalCartValue:P.instance.totalCartValue,totalCartFoodCount:P.instance.totalCartFoodCount})})),n}return Object(l.a)(a,[{key:"render",value:function(){this.props.onShowCartDialog;return this.state.totalCartFoodCount>0&&o.a.createElement(I.a,{style:{width:"100%",position:"sticky",bottom:0,zIndex:200,marginTop:5,borderTop:"1px dotted red"}},o.a.createElement(x.a,{justify:"center",container:!0,spacing:0,direction:"row",alignItems:"center"},o.a.createElement(W.a,{badgeContent:this.state.totalCartFoodCount,color:"secondary",onClick:function(){P.instance.showDialogSubject.next({name:"CartDialog",show:!0})}},A.instance.formatPrice(this.state.totalCartValue),o.a.createElement(R.a,null)),o.a.createElement(C.a,{style:{position:"absolute",right:0},onClick:function(){P.instance.showDialogSubject.next({name:"CartDialog",show:!0})},color:"secondary"},"CART ",o.a.createElement(J.a,null))))}}]),a}(o.a.Component)),V=a(1004),U=a(1005),H=a(996),G=a(1026),q=a(301),Y=a.n(q),K=a(52),Q=a.n(K),Z=a(300),X=a.n(Z),ee=(o.a.Component,a(1008)),te=a(957),ae=a(1009),ne=a(1033),oe=a(1035),re=a(104),ie=a.n(re),se=(o.a.Component,a(307)),le=a(1016),ce=a(1015),ue=(a(444),a(1012)),de=a(1013),pe=a(1027),he=a(1028),me=a(1014),fe=a(958),ge=a(1036),ye=a(1029),ve=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).myTxId="",n.state={tab:0,termsAccept:!1,total:0,account:"",bal:0,baltotal:0},n}return Object(l.a)(a,[{key:"makeid",value:function(e){for(var t="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=a.length,o=0;o<e;o++)t+=a.charAt(Math.floor(Math.random()*n));return t}},{key:"componentWillUnmount",value:function(){}},{key:"componentDidMount",value:function(){var e=this,t=new URL(window.location.href),a=t.searchParams.get("uid"),n=t.searchParams.get("s"),o=t.searchParams.get("l"),r=t.searchParams.get("result");"ok"==r&&(D.instance.showMessageBox("Payment Done","Return to app"),window.close()),"fail"==r&&(D.instance.showMessageBox("Payment Failed","Return to app"),window.close()),this.setState({params:{uid:a,s:n,l:o}}),D.instance.siteSubject.subscribe((function(){setTimeout((function(){e.showPaypal()}),2e3)}))}},{key:"showPaypal",value:function(){var e=this;if(window.paypal){this.myTxId=this.makeid(7);var t=new URL(window.location.href).searchParams.get("p");t||(t=D.instance.site.registration_pp_plan_id),console.log(t),this.setState({planid:t}),window.paypal.Buttons({onInit1:function(e,t){t.disable()},onClick:function(t,a){var n="";return!n&&e.fullName.value.length<5&&(n="Enter your full name"),n||/^0[1-9][0-9]{9}$/.test(e.mobile.value)||(n="Enter your correct mobile no"),n||/^0[1-9][0-9]{9}$/.test(e.phone.value)||(n="Enter your correct phone no"),!n&&e.shopName.value.length<5&&(n="Enter your business name"),!n&&e.address.value.length<10&&(n="Enter your business address"),n||A.instance.validateEmail(e.email.value)||(n="Enter your email address"),n||e.termsAccept.checked||(n="You have to read and accept terms and conditions "),""!==n?(D.instance.showToast(n,"error","top"),a.reject()):(D.instance.sendEventLog({data:JSON.stringify({txid:e.myTxId,email:e.email.value,mobile:e.mobile.value,shopName:e.shopName.value}),event:"reg_click"}),a.resolve())},createSubscription:function(a,n){return D.instance.sendEventLog({data:JSON.stringify({txid:e.myTxId,email:e.email.value,mobile:e.mobile.value,shopName:e.shopName.value}),event:"reg_csubs"}),n.subscription.create({plan_id:t})},onApprove:function(t,a){D.instance.sendEventLog({data:JSON.stringify({txid:e.myTxId,email:e.email.value,mobile:e.mobile.value,shopName:e.shopName.value}),event:"reg_approve"}),D.instance.showWaiting(!0,"Please wait ..."),console.log(t),D.instance.completeOrder({fullName:e.fullName.value,mobile:e.mobile.value,phone:e.phone.value,shopName:e.shopName.value,address:e.address.value,email:e.email.value,paydetails:JSON.stringify(t)},(function(a,n){D.instance.showWaiting(!1,""),0===a?(D.instance.sendEventLog({data:JSON.stringify({txid:e.myTxId,message:n,email:e.email.value,mobile:e.mobile.value,shopName:e.shopName.value,data:t}),event:"reg_appr_err"}),D.instance.showToast(n,"error","bottom")):(D.instance.showMessageBox("Thank you for registration","Success","top"),D.instance.sendEventLog({data:JSON.stringify({txid:e.myTxId,message:n,email:e.email.value,mobile:e.mobile.value,shopName:e.shopName.value,data:t}),event:"reg_appr_ok"}),e.setState({alertOpen:!0,alertMessage:n,alertOrderNo:a}))}))},onError:function(t){var a={err:t&&t.message?t.message:t,stacktrace:A.instance.getStackTrace()};D.instance.sendEventLog({data:JSON.stringify({txid:e.myTxId,email:e.email.value,mobile:e.mobile.value,shopName:e.shopName.value,data:a}),event:"reg_exception"}),D.instance.showToast("Payment error. Try another browser or payment method","error","bottom")}}).render("#paypalid1")}else D.instance.showToast("Paypal not ready.","error","top")}},{key:"buy",value:function(e){var t="";1==e&&(t=this.state.product),2==e&&("c"==this.state.baltype&&(t=this.state.baltotal+"b"),"c"!==this.state.baltype&&(t=this.state.baltype+"b"));var a=D.instance.getQueryVariable("devid"),n=D.instance.getQueryVariable("s");D.instance.showWaiting(!0,"Wait..."),D.instance.callApi("order",{op:"create",product:t,devid:a,uid:this.state.params.uid,s:n}).then((function(e){e&&e.url&&(window.location.href=e.url)})).finally((function(){D.instance.showWaiting(!1)}))}},{key:"calcBalTotal",value:function(){var e=0;this.state.baltype&&"c"!==this.state.baltype&&(e=1*this.state.baltype),this.state.baltype&&"c"==this.state.baltype&&(e=1*this.state.camount),isNaN(e)&&(e=0),this.setState({baltotal:e})}},{key:"render",value:function(){var e=this;this.props.classes;return o.a.createElement(x.a,{container:!0,spacing:3,style:{minHeight:"100%",marginTop:50,marginBottom:50},className:"gridNoMargin background1",justify:"center"},o.a.createElement(x.a,{item:!0,xs:12,sm:6,md:6,style:{zIndex:10}},o.a.createElement(se.a,{style:{padding:10,paddingTop:30,paddingBottom:30,textAlign:"left",minHeight:120,position:"relative",backgroundColor:"#FFF"},elevation:3},o.a.createElement("div",{style:{textAlign:"center"}},o.a.createElement("img",{src:"./logo.png",style:{marginBottom:20,maxWidth:200}}),o.a.createElement(E.a,{variant:"body2",style:{marginBottom:10,color:"#888"}},"UID: ",this.state.params&&this.state.params.uid?this.state.params.uid:""),o.a.createElement(he.a,{variant:"fullWidth",value:this.state.tab,onChange:function(t,a){console.log(a),e.setState({tab:a})},"aria-label":"disabled tabs example",centered:!0},o.a.createElement(me.a,{label:"Buy Account"}),o.a.createElement(me.a,{label:"Topup"}),o.a.createElement(me.a,{label:"Buy for Friend"}))),0==this.state.tab&&o.a.createElement(x.a,{item:!0,xs:12,sm:12,md:12,style:{marginTop:20}},o.a.createElement(fe.a,{id:"demo-row-radio-buttons-group-label"}),o.a.createElement(ge.a,{row:!0,"aria-labelledby":"demo-row-radio-buttons-group-label",name:"row-radio-buttons-group",onChange:function(t,a){var n=0;"1m"==a&&(n=4),"3m"==a&&(n=12),"6m"==a&&(n=22),"1y"==a&&(n=40),e.setState({total:n,bal:0,product:a})}},o.a.createElement(ce.a,{value:"1m",control:o.a.createElement(ye.a,null),label:"1 Month"}),o.a.createElement(ce.a,{value:"3m",control:o.a.createElement(ye.a,null),label:"3 Months"}),o.a.createElement(ce.a,{value:"6m",control:o.a.createElement(ye.a,null),label:"6 Months"}),o.a.createElement(ce.a,{value:"1y",control:o.a.createElement(ye.a,null),label:"1 Year"})),o.a.createElement(ne.a,{required:!0,size:"small",margin:"dense",label:"Email (to get payment receipt)",type:"email",fullWidth:!0,inputRef:function(t){return e.email=t}}),o.a.createElement("div",{style:{textAlign:"center",marginTop:30}},o.a.createElement(E.a,{variant:"body2",style:{display:"flex",alignItems:"center",justifyContent:"center",fontSize:"large",color:"black"}},"Total: $",this.state.total),o.a.createElement(C.a,{variant:"contained",color:"primary",style:{marginTop:20},value:"Buy with Crypto",onClick:function(){return e.buy(1)},disabled:this.state.total<=0},"Pay with Crypto"))),1==this.state.tab&&o.a.createElement(x.a,{item:!0,xs:12,sm:12,md:12,style:{padding:20}},o.a.createElement(E.a,{style:{marginBottom:15,marginTop:5,color:"grey"},variant:"body2"},"Top up your balance (bulk buy, buy for someone else). Up to 20% off!"),o.a.createElement(ue.a,{fullWidth:!0,style:{marginTop:10}},o.a.createElement(de.a,null,"Amount"),o.a.createElement(pe.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",inputRef:function(t){return e.balType=t},label:"BalanceType",onChange:function(t,a){e.setState({baltype:t.target.value},(function(){e.calcBalTotal()}))}},o.a.createElement(le.a,{value:"20"},"$20"),o.a.createElement(le.a,{value:"50"},"$50 (6% off, $53 credit)"),o.a.createElement(le.a,{value:"100"},"$100 (10% off, $110 credit)"),o.a.createElement(le.a,{value:"200"},"$200 (20% off, $240 credit)"),o.a.createElement(le.a,{value:"c"},"Custom Amount"))),this.state.baltype&&"c"==this.state.baltype&&o.a.createElement(ne.a,{required:!0,size:"small",margin:"dense",label:"Custom Amount",type:"currency",fullWidth:!0,inputRef:function(t){return e.camount=t},onChange:function(t){e.setState({camount:t.target.value},(function(){e.calcBalTotal()}))}}),o.a.createElement(ne.a,{required:!0,size:"small",margin:"dense",label:"Email (to send payment receipt)",type:"email",fullWidth:!0,inputRef:function(t){return e.email=t}}),o.a.createElement("div",{style:{textAlign:"center",marginTop:30}},o.a.createElement(E.a,{variant:"body2",style:{display:"flex",alignItems:"center",justifyContent:"center",fontSize:"large",color:"black"}},"Total: $",this.state.baltotal),o.a.createElement(C.a,{variant:"contained",color:"primary",value:"Buy with Crypto",style:{marginTop:30},onClick:function(){return e.buy(2)},disabled:this.state.baltotal<=0},"Pay with Crypto"))),o.a.createElement("div",{id:"paypalid1"}),o.a.createElement(E.a,{style:{fontSize:"8px",color:"#888"}},this.state.planid?this.state.planid:""))))}}]),a}(o.a.Component),be=(o.a.Component,o.a.Component,a(76)),we=a.n(be),Ee=Object(m.a)((function(e){return{toolbar:{flexGrow:1,color:"white"},root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}})),ke=(o.a.Component,a(1018)),Ce=(o.a.Component,a(1037)),xe=(o.a.Component,a(1019)),Se=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(s.a)(this,a),n=t.call(this,e),g.app=Object(c.a)(n),n.state={show:!1,offer:{},showDrawer:!1,chosen:{},detail:{},offerTotal:0,count:1},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;P.instance.showDialogSubject.subscribe((function(t){if("OfferOptionsDialog"===t.name&&t.show)if(t.extra.offerFood){e.state.detail.selectedFood=t.extra.offerFood,e.state.detail.selectedFood.count=1;var a=0;e.state.offer.details.map((function(e){e.selectedFood&&e.selectedFood.extraOfferPrice&&(a+=e.selectedFood.extraOfferPrice)})),e.state.offer.total=1*e.state.offer.price+a,e.setState({detail:e.state.detail,offerTotal:e.state.offer.total,count:1})}else e.setState({offer:JSON.parse(JSON.stringify(t.extra.offer)),show:t.show,showDrawer:!1,chosen:{},offerTotal:1*t.extra.offer.price,count:1})}))}},{key:"findOptions",value:function(e){if(!e)return[];var t=[],a=D.instance.foodinfo;if(e.typeid>0){var n=A.instance.findByKeyValue(a.types,"typeid",e.typeid);n&&n.title&&(t=a.foods.filter((function(e){return e.typeid===n.typeid})))}return e.foodid>0&&(t=a.foods.filter((function(t){return t.foodid===e.foodid}))),t}},{key:"chooseFood",value:function(e){this.setState({showDrawer:!1}),this.state.detail.selectedFood=e,e.prices&&e.prices.length>1&&P.instance.showDialogSubject.next({name:"FoodOptionsDialog",show:!0,extra:{offerDetail:this.state.detail}})}},{key:"render",value:function(){var e=this,t=this.state.offer;return this.state.show&&o.a.createElement(o.a.Fragment,null,o.a.createElement(v.a,{fullWidth:!0,open:!0,onClose:function(){return e.setState({show:!1})},style:{maxWidth:"960px",margin:"0 auto"},className:"dlg1 minWidth300"},o.a.createElement(V.a,{position:"sticky"},o.a.createElement(U.a,null,o.a.createElement(H.a,{edge:"start",color:"inherit",onClick:function(){return e.setState({show:!1})},"aria-label":"close"},o.a.createElement(Q.a,null)),o.a.createElement(E.a,{variant:"h6",style:{flexGrow:1}},t&&t.title))),o.a.createElement(ee.a,{style:{marginBottom:10}},t&&t.details.map((function(t){return o.a.createElement(te.a,{button:!0,selected:!0,key:t.offerdetailid,onClick:function(){e.setState({showDrawer:!0,detail:t})},style:{marginBottom:5,marginTop:5}},o.a.createElement(ae.a,{primary:t.title}),o.a.createElement(xe.a,{onClick:function(){e.setState({showDrawer:!0,detail:t})}},o.a.createElement("div",{style:{display:"flex",alignItems:"center"}},o.a.createElement("span",null,t.selectedFood?t.selectedFood.title:"Choose"),o.a.createElement(J.a,null))))}))),o.a.createElement(ne.a,{label:"Note",variant:"outlined",inputRef:function(t){return e.note=t},style:{marginLeft:20,marginRight:20},size:"small"}),o.a.createElement(ne.a,{label:"Quantity",type:"number",placeholder:"Quantity",margin:"normal",defaultValue:"1",onChange:function(t){t.preventDefault();var a=Math.max(1,t.target.value);e.state.offer.count=a,e.setState({count:a})},inputRef:function(t){return e.count=t},style:{marginLeft:20,marginRight:20,maxWidth:100}}),o.a.createElement(k.a,{style:{position:"sticky",bottom:0,zIndex:200,marginTop:0,borderTop:"1px dotted red",textAlign:"center",backgroundColor:"white",height:40}},o.a.createElement(G.a,{component:"span",m:1,style:{margin:"0 auto"}},A.instance.formatPrice(this.state.offerTotal*this.state.count)),o.a.createElement(C.a,{style:{position:"absolute",right:0},color:"secondary",onClick:function(){var t=0;e.state.offer.details.forEach((function(e){e.selectedFood&&t++})),t<e.state.offer.details.length?D.instance.showToast("Choose all items","error","bottom"):(e.state.offer.note=e.note.value,P.instance.addOfferToCart(e.state.offer),e.setState({show:!1}))}},"ADD ",o.a.createElement(J.a,null)))),o.a.createElement(oe.a,{anchor:"bottom",open:this.state.showDrawer,onClose:function(){return e.setState({showDrawer:!1})},PaperProps:{style:{maxWidth:500,margin:"0 auto"}}},o.a.createElement(ee.a,null,this.state.detail&&this.findOptions(this.state.detail).map((function(t){return o.a.createElement(te.a,{button:!0,key:t.foodid,onClick:function(){return e.chooseFood(t)}},o.a.createElement(ae.a,{primary:o.a.createElement("div",{style:{display:"flex",alignItems:"center"}},o.a.createElement("div",{style:{flexGrow:1}},t.title),e.state.detail.selectedFood&&e.state.detail.selectedFfoodid===t.foodid&&o.a.createElement(ie.a,{color:"disabled"}))}))})))))}}]),a}(o.a.Component);Se.contextType=g;var Oe=a(1020),Te=a(686),je=a.n(Te),Me=a(302),Ae=a.n(Me),Ne=a(304),Fe=a.n(Ne),De=a(303),Pe=a.n(De),ze=(Object(m.a)((function(e){return{toolbar:{flexGrow:1,color:"white"},root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}})),o.a.Component,a(1021)),Be=a(1022),$e=(o.a.Component,a(687)),Ie=a.n($e),We=a(688),_e=a.n(We),Je=a(689),Re=a.n(Je),Le=(o.a.Component,function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={show:!1,message:"",title:""},D.instance.messageBoxSubject.subscribe((function(e){e.msg&&n.setState({show:!0,message:e.msg,title:e.title})})),n}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return this.state.show&&o.a.createElement(v.a,{open:!0},o.a.createElement(b.a,null,this.state.title),o.a.createElement(w.a,{style:{minWidth:250,minHeight:150}},o.a.createElement(E.a,{component:"body2"},o.a.createElement("div",{dangerouslySetInnerHTML:{__html:this.state.message}}))),o.a.createElement(k.a,null,o.a.createElement(C.a,{color:"primary",onClick:function(){e.setState({show:!1})}},"OK")))}}]),a}(o.a.Component)),Ve=a(956),Ue=a(1023),He=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={show:!1,message:""},D.instance.waitingSubject.subscribe((function(e){var t;n.setState({show:e.show,message:null!==(t=e.msg)&&void 0!==t?t:""})})),n}return Object(l.a)(a,[{key:"render",value:function(){return this.state.show&&o.a.createElement(Ve.a,{open:!0,style:{zIndex:9999,backgroundColor:"rgb(0 0 0 / 70%)"}},o.a.createElement("span",{style:{alignItems:"center",display:"flex",fontSize:"larger",flexDirection:"column"}},o.a.createElement(Ue.a,{color:"secondary"}),o.a.createElement("span",{style:{marginTop:10,color:"#e6e6e6"}},this.state.message)))}}]),a}(o.a.Component),Ge=Object(h.a)({type:"light",palette:{error:{main:"#ff604f"}}}),qe=Object(h.a)({type:"dark"}),Ye=Object(m.a)((function(e){return{toolbar:{flexGrow:1,color:"white"},root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}})),Ke=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).user={},n.classes={},g.app=Object(c.a)(n),n.state={fatalError:void 0},n.classes=Ye,n}return Object(l.a)(a,[{key:"reload",value:function(){window.location.reload()}},{key:"componentDidMount",value:function(){D.instance.init()}},{key:"componentWillMount",value:function(){}},{key:"render",value:function(){var e=this,t=D.instance.site;return o.a.createElement(p.a,null,o.a.createElement(f.a,{theme:t&&"dark"===t.appTheme?qe:Ge},o.a.createElement("div",{id:"mainContainer",style:{position:"fixed",top:0,left:0,width:"100%",height:"100vh",backgroundSize:"cover",backgroundPosition:"center",backgroundColor:"#555555",zIndex:-9999}}),o.a.createElement(y.a,{style:{padding:"0",minHeight:"100%",height:"auto !important",margin:"0 auto -142px",maxWidth:"1224px"}},this.state.fatalError&&o.a.createElement(v.a,{open:!0},o.a.createElement(b.a,null,"Error"),o.a.createElement(w.a,null,o.a.createElement(E.a,{component:"h5",style:{textAlign:"center"}},this.state.fatalError)),o.a.createElement(k.a,null,o.a.createElement(C.a,{color:"primary",onClick:function(){e.setState({fatalError:null})}},"Cancel"),o.a.createElement(C.a,{color:"primary",onClick:function(){e.reload()}},"Reload"))),!1,o.a.createElement(ve,null),o.a.createElement(Le,null),o.a.createElement(He,null),o.a.createElement($,null),o.a.createElement("div",{style:{height:142}})),o.a.createElement("div",{style:{height1:142,minHeight:142,width:"100%",backgroundColor:"rgb(77 77 77 / 51%)",zIndex:9999},className:"footer"},o.a.createElement(x.a,{item:!0,xs:12,style:{maxWidth:"1224px",margin:"0 auto",padding:15,textAlign:"center"}},o.a.createElement(E.a,{style:{fontWeight:"bold",color:"white"}},"FinalVPN"),o.a.createElement(Ie.a,null)," ",o.a.createElement(_e.a,null)," ",o.a.createElement(Re.a,null),o.a.createElement("div",{style:{color:"dimgray",fontSize:"12px"}},o.a.createElement("a",{href:"https://finalvpn.github.io",target:"_blank"},"Download App")))),o.a.createElement(S.a,{mdUp:!0},o.a.createElement(L,null))))}}]),a}(o.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(Ke,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[715,1,2]]]);
//# sourceMappingURL=main.6c6f7ae5.chunk.js.map